#!/usr/bin/env python3
import os
import sys
from dotenv import load_dotenv

# Load environment variables from .env
load_dotenv()

API_KEY = os.getenv("API_KEY")
API_SECRET = os.getenv("API_SECRET")

if not API_KEY or not API_SECRET:
    raise SystemExit("❌ API_KEY or API_SECRET not set in environment variables")

# Correct import for Coinbase Advanced Py
from coinbase_advanced_py.client import Client

# Initialize client
client = Client(API_KEY, API_SECRET)

print("🚀 NIJA BOT started successfully!")

# Example: Check account balances to verify connectivity
try:
    balances = client.get_account_balances()
    print("✅ Coinbase balances fetched successfully:")
    print(balances)
except Exception as e:
    print("❌ Error connecting to Coinbase:")
    print(e)
    sys.exit(1)

# Core bot dependencies
coinbase-advanced-py==1.8.2
PyJWT==2.10.1
cryptography==46.0.2
python-dotenv==1.1.1
requests>=2.31.0,<3
urllib3>=1.26.0,<3
certifi>=2017.4.17
charset_normalizer>=2.1.0,<4
idna>=3.4,<4
backoff>=2.2.1
websockets>=12.0,<14.0
cffi>=2.0.0

# Web server for Render
flask==3.1.2
gunicorn>=20.0.0

# Optional numeric/data packages
numpy==1.26.4
pandas==2.3.3
